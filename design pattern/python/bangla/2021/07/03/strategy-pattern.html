<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>স্ট্র্যাটিজি প্যাটার্ন (Strategy Pattern) | Jaber’s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="স্ট্র্যাটিজি প্যাটার্ন (Strategy Pattern)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Strategy Design Pattern" />
<meta property="og:description" content="Strategy Design Pattern" />
<link rel="canonical" href="https://jabertuhin.github.io/jabers-blog/design%20pattern/python/bangla/2021/07/03/strategy-pattern.html" />
<meta property="og:url" content="https://jabertuhin.github.io/jabers-blog/design%20pattern/python/bangla/2021/07/03/strategy-pattern.html" />
<meta property="og:site_name" content="Jaber’s Blog" />
<meta property="og:image" content="https://jabertuhin.github.io/jabers-blog/images/strategy-pattern.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-03T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://jabertuhin.github.io/jabers-blog/design%20pattern/python/bangla/2021/07/03/strategy-pattern.html","@type":"BlogPosting","headline":"স্ট্র্যাটিজি প্যাটার্ন (Strategy Pattern)","dateModified":"2021-07-03T00:00:00-05:00","datePublished":"2021-07-03T00:00:00-05:00","image":"https://jabertuhin.github.io/jabers-blog/images/strategy-pattern.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://jabertuhin.github.io/jabers-blog/design%20pattern/python/bangla/2021/07/03/strategy-pattern.html"},"description":"Strategy Design Pattern","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/jabers-blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://jabertuhin.github.io/jabers-blog/feed.xml" title="Jaber's Blog" /><!-- the google_analytics_id gets auto inserted from the config file -->



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-170132741-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-170132741-2');
</script>


<link rel="shortcut icon" type="image/x-icon" href="/jabers-blog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper">
<a class="site-title" rel="author" href="/jabers-blog/">Jaber's Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/jabers-blog/about/">About Me</a><a class="page-link" href="/jabers-blog/search/">Search</a><a class="page-link" href="/jabers-blog/categories/">Tags</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">স্ট্র্যাটিজি প্যাটার্ন (Strategy Pattern)</h1>
<p class="page-description">Strategy Design Pattern</p>
<p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-07-03T00:00:00-05:00" itemprop="datePublished">
        Jul 3, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      5 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i> 
      
        <a class="category-tags-link" href="/jabers-blog/categories/#Design%20Pattern">Design Pattern</a>
         
      
        <a class="category-tags-link" href="/jabers-blog/categories/#Python">Python</a>
         
      
        <a class="category-tags-link" href="/jabers-blog/categories/#Bangla">Bangla</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#%E0%A6%AA%E0%A7%8D%E0%A6%B0%E0%A6%AC%E0%A6%B2%E0%A7%87%E0%A6%AE">প্রবলেম</a></li>
<li class="toc-entry toc-h2">
<a href="#%E0%A6%B8%E0%A6%AE%E0%A6%BE%E0%A6%A7%E0%A6%BE%E0%A6%A8">সমাধান</a>
<ul>
<li class="toc-entry toc-h3"><a href="#arrow_right-%E0%A6%B8%E0%A6%BE%E0%A6%A7%E0%A6%BE%E0%A6%B0%E0%A6%A3-%E0%A6%AA%E0%A6%A8%E0%A7%8D%E0%A6%A5%E0%A6%BE%E0%A7%9F"><img class="emoji" title=":arrow_right:" alt=":arrow_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/27a1.png" height="20" width="20"> সাধারণ পন্থায়</a></li>
<li class="toc-entry toc-h3"><a href="#arrow_right-strategy-pattern-%E0%A6%AC%E0%A7%8D%E0%A6%AF%E0%A6%AC%E0%A6%B9%E0%A6%BE%E0%A6%B0%E0%A7%87%E0%A6%B0-%E0%A6%AE%E0%A6%BE%E0%A6%A7%E0%A7%8D%E0%A6%AF%E0%A6%AE%E0%A7%87"><img class="emoji" title=":arrow_right:" alt=":arrow_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/27a1.png" height="20" width="20"> Strategy Pattern ব্যবহারের মাধ্যমে</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#references">References</a></li>
</ul>
<p>ডিজাইন প্যাটার্নের গুরুত্ব আমরা সকলেই কমবেশি জানি। সফটওয়্যার ডেভলপমেন্টের ক্ষেত্রে ডিজাইন প্যাটার্নগুলো জানা থাকলে আমাদের বিভিন্ন প্রবলেম সঠিক ডিজাইন মেইনটেইন করে সলভ করা সহজ হয়ে যাবে। এই ব্লগ পোস্টে আমরা এরই লক্ষ্যে “স্ট্র্যাটেজি প্যাটার্ন” সম্পর্কে জানতে চেষ্টা করবো।</p>

<p>প্রথমে naive এপ্রোচে একটা সলিউশন দাঁড় করানোর চেষ্টা করবো। পরবর্তীতে স্ট্র্যাটেজি প্যাটার্নকে ব্যবহার করে কিভাবে  আমরা সেটাকে আরও ভালোভাবে ডিজাইন করতে পারি সেটা দেখবো।</p>

<h2 id="প্রবলেম">
<a class="anchor" href="#%E0%A6%AA%E0%A7%8D%E0%A6%B0%E0%A6%AC%E0%A6%B2%E0%A7%87%E0%A6%AE" aria-hidden="true"><span class="octicon octicon-link"></span></a>প্রবলেম</h2>

<p>আমরা ছোট একটা ভিডিও গেমের কথা চিন্তা করি - ক্রিকেটের একটা গেম হবে, যেখানে বিভিন্ন দেশের বিভিন্ন খেলোয়াড় থাকবে। এখন এই খেলোয়াড়দের কথা মাথায় রেখে আসুন আমরা কিছু ক্লাস ডিজাইন করি।</p>

<h2 id="সমাধান">
<a class="anchor" href="#%E0%A6%B8%E0%A6%AE%E0%A6%BE%E0%A6%A7%E0%A6%BE%E0%A6%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>সমাধান</h2>

<h3 id="arrow_right-সাধারণ-পন্থায়">
<a class="anchor" href="#arrow_right-%E0%A6%B8%E0%A6%BE%E0%A6%A7%E0%A6%BE%E0%A6%B0%E0%A6%A3-%E0%A6%AA%E0%A6%A8%E0%A7%8D%E0%A6%A5%E0%A6%BE%E0%A7%9F" aria-hidden="true"><span class="octicon octicon-link"></span></a><img class="emoji" title=":arrow_right:" alt=":arrow_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/27a1.png" height="20" width="20"> সাধারণ পন্থায়</h3>

<p>প্রথমে OOP এর কনসেপ্ট ধরে যদি চিন্তা করি - আমরা Player নামের একটা ইন্টার্ফেস তৈরি করতে পারি। যার <code class="language-plaintext highlighter-rouge">bat()</code> এবং <code class="language-plaintext highlighter-rouge">bowl()</code> নামের দুইটা মেথডকে ইমপ্লিমেন্ট করতে হবে। Player ক্লাসটা সেক্ষেত্রে নিম্নরূপ হবে <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"></p>

<p>(<img class="emoji" title=":hash:" alt=":hash:" src="https://github.githubassets.com/images/icons/emoji/unicode/0023-20e3.png" height="20" width="20"> এখানে একটু বলে রাখা ভালো, পাইথনের ইন্টার্ফেস তৈরি পদ্ধতি অন্য স্ট্যাটিক টাইপড ল্যাঙ্গুয়েজ থেকে বেশ আলাদা। )</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>


<span class="k">class</span> <span class="nc">Player</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">country</span>    

    <span class="o">@</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">NotImplementedError</span>

    <span class="o">@</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">f"My name is </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">. I'm from </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">country</span><span class="si">}</span><span class="s">."</span>
</code></pre></div></div>
<p>এখন এই Player ইন্টার্ফেসকে ব্যবহার করে আমি আমাদের ওপেনার তামিম ইকবাল খান-এর একটা ক্লাস যদি তৈরি করতে চাই। সেই ক্লাসটি হবে নিম্নরূপ <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Tamim</span><span class="p">(</span><span class="n">Player</span><span class="p">):</span>    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">().</span><span class="n">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">country</span><span class="p">)</span>        

    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation of Tamim's batting."""</span>

    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation of Tamim's bowling."""</span>
</code></pre></div></div>
<p>একজন ওপেনিং ব্যাটসম্যানের পরে এখন আমরা একজন বোলার, মুস্তাফিজুর রহমানের ক্লাস অনুরূপভাবে তৈরি করতে পারি।</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Mustafizur</span><span class="p">(</span><span class="n">Player</span><span class="p">):</span>    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">country</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">().</span><span class="n">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">country</span><span class="p">)</span>        

    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation for Mustafizur's batting."""</span>

    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation for Mustafizur's bowling."""</span>
</code></pre></div></div>
<p>এইক্ষেত্রে আমরা যদি তামিম এবং মুস্তাফিজুরের অব্জেক্ট তৈরি করতে চাই, তা খুব সহজেই আমরা করতে পারবো নিম্নোক্তভাবে <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Tamim</span> <span class="o">=</span> <span class="n">Tamim</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Tamim Iqbal"</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="s">"Bangladesh"</span><span class="p">)</span>
<span class="n">Mustafizur</span> <span class="o">=</span> <span class="n">Mustafizur</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Mustafizur Rahman"</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="s">"Bangladesh"</span><span class="p">)</span>
</code></pre></div></div>
<p>আপাত দৃষ্টিতে সব ঠিক মনে হচ্ছে। তামিমের জন্য আলাদা একটা ক্লাস ডিজাইন করে নিয়েছি, মুস্তাফিজের জন্যও আলাদা ক্লাস করে নিয়েছি।</p>

<p>এখন আমরা যদি বাংলাদেশ জাতীয় দলের অন্যান্য খেলোয়াড়দের  ক্লাস তৈরি করতে চাই? এরপর ভারতের খেলোয়াড়দের?</p>

<p>প্রত্যেক খেলোয়াড়ের জন্যই তাহলে আমাকে আলাদা করে একটা ক্লাস তৈরি করতে হবে এবং সেই ক্লাসে <code class="language-plaintext highlighter-rouge">bat()</code> ও <code class="language-plaintext highlighter-rouge">bowl()</code> দুইটা মেথডকে প্রতিবার ইমপ্লিমেন্টও করতে হবে। এখন যদি একটু খেয়াল করি- তামিম, সাকিব, সৌম্য এরা প্রত্যেকেই বামহাতি ব্যাটসম্যান। সুতরাং, প্রত্যেক বামহাতি প্লেয়ারের জন্যও আমি বারবার <code class="language-plaintext highlighter-rouge">bat()</code> মেথড একইভাবে ইমপ্লিমেন্ট করছি। এবার মুস্তাফিজ বামহাতি ব্যাটসম্যান হলেও তাকে আমরা ঠিক ব্যাটসম্যান ক্যাটাগরিতে ফেলবো না। তার ক্ষেত্রে ব্যাটিং করার ইমপ্লিমেন্টেশন আলাদা হওয়া উচিত।</p>

<p>আমাদের বর্তমান ডিজাইন অনুযায়ী ব্যাটিং, বোলিং এর ইমপ্লিমেন্টেশন একেকটা ক্লাসের অর্থাৎ একেকজন খেলোয়াড়ের সাথে কাপল্ড(coupled) হয়ে যাচ্ছে, যাকে পরবর্তীতে আমরা পুনর্বার ব্যবহারও করতে পারছি না।</p>

<h3 id="arrow_right-strategy-pattern-ব্যবহারের-মাধ্যমে">
<a class="anchor" href="#arrow_right-strategy-pattern-%E0%A6%AC%E0%A7%8D%E0%A6%AF%E0%A6%AC%E0%A6%B9%E0%A6%BE%E0%A6%B0%E0%A7%87%E0%A6%B0-%E0%A6%AE%E0%A6%BE%E0%A6%A7%E0%A7%8D%E0%A6%AF%E0%A6%AE%E0%A7%87" aria-hidden="true"><span class="octicon octicon-link"></span></a><img class="emoji" title=":arrow_right:" alt=":arrow_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/27a1.png" height="20" width="20"> Strategy Pattern ব্যবহারের মাধ্যমে</h3>

<p>সামনে যাওয়ার পূর্বে আমাদেরকে দুটো কন্সেপ্টের সাথে পরিচিত থাকতে হবে। কনসেপ্টগুলো হলো -</p>

<p><img class="emoji" title=":one:" alt=":one:" src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png" height="20" width="20"> <a href="https://betterprogramming.pub/prefer-composition-over-inheritance-1602d5149ea1">Composition over Inheritence</a></p>

<p><img class="emoji" title=":two:" alt=":two:" src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png" height="20" width="20"> <a href="https://en.wikipedia.org/wiki/Dependency_injection">Dependency injection</a></p>

<p>এগুলোর সাহায্য নিয়ে আমরা  <strong>Strategy Pattern</strong>  প্রয়োগ করে উপরের সমস্যাগুলো থেকে মুক্তি পেতে পারি।</p>

<p>আমরা এখন <code class="language-plaintext highlighter-rouge">IBattingStyle</code>  ও <code class="language-plaintext highlighter-rouge">IBowlingStyle</code> এ দু’টো নতুন ইন্টার্ফেস নিয়ে আসছি। এই ইন্টার্ফেসগুলো ব্যবহার করে আমরা আমাদের পুর্বের Player ক্লাসকে নতুন করে ডিফাইন করবো।</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>

<span class="k">class</span> <span class="nc">IBattingStyle</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="o">@</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">NotImplementedError</span>

<span class="k">class</span> <span class="nc">IBowlingStyle</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="o">@</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">NotImplementedError</span>
</code></pre></div></div>
<p>এখন আমরা আমাদের নতুন Player ক্লাসটা যদি লক্ষ্য করি <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Player</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
                       <span class="n">country</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                       <span class="n">batting_style</span><span class="p">:</span> <span class="n">IBattingStyle</span><span class="p">,</span>
                       <span class="n">bowling_style</span><span class="p">:</span> <span class="n">IBowlingStyle</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">country</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">batting_style</span> <span class="o">=</span> <span class="n">batting_style</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bowling_style</span> <span class="o">=</span> <span class="n">bowling_style</span>

    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">batting_style</span><span class="p">.</span><span class="n">bat</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bowling_style</span><span class="p">.</span><span class="n">bowl</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">f"My name is </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">. I'm from </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">country</span><span class="si">}</span><span class="s">."</span>
</code></pre></div></div>
<p>Player ক্লাসটার কাজ বদলায় নি, কিন্তু চেহারা বদলে গেছে। আমাদের ক্লাস এখন  <code class="language-plaintext highlighter-rouge">__init__</code> এ দু’টোর বদলে মোট ৪ টা আর্গুমেন্ট এক্সপেক্ট করছে। এখানে আমরা প্রতিটা খেলোয়াড়ের ব্যাটিং স্টাইল, বোলিং স্টাইল সেই খেলোয়াড়ের অব্জেক্ট তৈরি করার সময় দিয়ে দিতে পারবো। আর Player ক্লাসের  <code class="language-plaintext highlighter-rouge">bat()</code> ও <code class="language-plaintext highlighter-rouge">bowl()</code> মেথড যাদের পুর্বে ইমপ্লিমেন্ট করতে হতো, এখন সেই মেথডগুলো শুধু <code class="language-plaintext highlighter-rouge">batting_style</code> ও <code class="language-plaintext highlighter-rouge">bowling_style</code> অবজেক্টের ইমপ্লিমেন্টেড মেথডকে কল করবে । এখানে Player ক্লাসকে কোন নির্দিষ্ট ব্যাটিং, বোলিং স্টাইলের ইমপ্লিমেন্টেশনের বিস্তারিত জানতে হচ্ছে না। শুধু  নির্দিষ্ট একটা কাজ করার জন্য ইন্টার্ফেসের কোন মেথডকে কল করতে হবে, সেটা জানলেই হচ্ছে।</p>

<p><code class="language-plaintext highlighter-rouge">IBattingStyle</code>, <code class="language-plaintext highlighter-rouge">IBowlingStyle</code> এর কি ধরনের ইমপ্লিমেন্টেশন হতে পারে যদি একটু দেখে নিই, তাহলে আমাদের পুরো জিনিসটা বুঝতে হয়তো আরেকটু সুবিধা হবে।</p>

<p>Implementations of <code class="language-plaintext highlighter-rouge">IBattingStyle</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LeftHandBatting</span><span class="p">(</span><span class="n">IBattingStyle</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation for Left-hand Batting."""</span>

<span class="k">class</span> <span class="nc">RightHandBatting</span><span class="p">(</span><span class="n">IBattingStyle</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">bat</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation for Right-hand Batting."""</span>
</code></pre></div></div>
<p>এখানে <img class="emoji" title=":point_up_2:" alt=":point_up_2:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f446.png" height="20" width="20"> আমাদের প্রয়োজন হলে <code class="language-plaintext highlighter-rouge">LeftHandAggresiveBatting</code> একটা ইমপ্লিমেন্টেশনও যোগ করতে পারি।</p>

<p>Implementations of <code class="language-plaintext highlighter-rouge">IBowlingStyle</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LeftHandFastBowling</span><span class="p">(</span><span class="n">IBowlingStyle</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation for Left-hand fast bowler."""</span>

<span class="k">class</span> <span class="nc">RightHandFastBowling</span><span class="p">(</span><span class="n">IBowlingStyle</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">bowl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="s">"""Implementation for Right-hand fast bowler."""</span>
</code></pre></div></div>
<p>আর <img class="emoji" title=":point_up_2:" alt=":point_up_2:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f446.png" height="20" width="20"> এখানে তো আমাদের অবশ্যই <code class="language-plaintext highlighter-rouge">LeftArmOffBreakBowling</code>, <code class="language-plaintext highlighter-rouge">RightArmOffBreakBowling</code> ইমপ্লিমেন্টেশনগুলোর কথা চিন্তা করতেই হবে।</p>

<p>আমরা পুর্বে যে তামিম, মুস্তাফিজুরের অবজেক্ট তৈরি করেছিলাম, তা বর্তমান ডিজাইনের সাপেক্ষে কেমন হবে তা দেখে নেয়া যাক <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># For the sake of the example, assume Tamim is Left-hand fast bowler.
</span><span class="n">Tamim</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Tamim Iqbal"</span><span class="p">,</span> 
            <span class="n">country</span><span class="o">=</span><span class="s">"Bangladesh"</span><span class="p">,</span>
            <span class="n">batting_style</span><span class="o">=</span><span class="n">LeftHandBatting</span><span class="p">(),</span>
            <span class="n">bowling_style</span><span class="o">=</span><span class="n">LeftHandFastBowling</span><span class="p">())</span>

<span class="n">Mustafizur</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Mustafizur Rahman"</span><span class="p">,</span> 
                <span class="n">country</span><span class="o">=</span><span class="s">"Bangladesh"</span><span class="p">,</span> 
                <span class="n">batting_style</span><span class="o">=</span><span class="n">LeftHandBatting</span><span class="p">(),</span> 
                <span class="n">bowling_style</span><span class="o">=</span><span class="n">LeftHandFastBowling</span><span class="p">())</span>
</code></pre></div></div>
<p>এখন আমরা চাইলেই খুব সহজে সাকিব আল হাসান, বিরাট কোহলির মতও খেলোয়াড়দের অবজেক্ট তৈরি করে ফেলতে পারবো। যার জন্য Player ক্লাসে কোন ধরনের পরিবর্তন আসবে না। বিরাট কোহলি এর জন্য শুধু নতুন  <code class="language-plaintext highlighter-rouge">RightHandMediumFastBowling</code> এর ইমপ্লিমেন্টেশন লাগবে আমাদের, আর <code class="language-plaintext highlighter-rouge">RightHandBatting</code> এর ইমপ্লিমেন্টেশন আমাদের কাছে ইতিমধ্যেই আছে। এরপর শুধু অবজেক্ট তৈরি করার সময় তার নাম, দেশের নাম দিয়ে দিলেই হয়ে যাবে।</p>

<p>অনুশীলনের জন্য আপনি আরও কিছু খেলোয়াড়ের অবজেক্ট তৈরি করার কথা চিন্তা করতে পারেন। কিভাবে করবেন, আর তাদের জন্য কি লাগতে পারে।</p>

<p>এই যে আমরা আমাদের প্লেয়ারদের ব্যাটিং, বোলিং করার ধরনকে আলাদা রাখছি এবং তা রানটাইমে বলে দিচ্ছি - এর মাধ্যমেই আমরা <strong>Strategy Design Pattern</strong>-কে ফলো করছি।
এখন যদি <strong>Strategy Design Pattern</strong> এর কিতাবি সংজ্ঞা দেখে নিই</p>

<blockquote>
  <p>The Strategy Pattern defines a family of algorithms, encapsulates each one, and makes them interchangeable. Strategy lets the algorithm vary independently from clients that use it.</p>
</blockquote>

<p>এই সংজ্ঞা এর সাথে আমাদের উপরের উদাহরণটা মিলিয়ে নিলেই বুঝতে পারবেন আমরা কিভাবে <em>Strategy Design Pattern</em> কে ফলো করেছি। 
ডিজাইন প্যাটার্নের ৩ টি ধরন আছে, এই <em>Strategy Design Pattern</em> তার মধ্যে <strong>Behavioral Patterns</strong> এর মধ্যে পড়ে।</p>

<h2 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h2>

<ul>
  <li>
    <p><a href="https://refactoring.guru/design-patterns/strategy">RefactoringGuru: Strategy Pattern</a></p>
  </li>
  <li>
    <p><a href="https://blog.bitsrc.io/keep-it-simple-with-the-strategy-design-pattern-c36a14c985e9">Keep it Simple with the Strategy Design Pattern</a></p>
  </li>
  <li>
    <p><a href="https://www.oreilly.com/library/view/head-first-design/0596007124/">Head First Design Patterns</a></p>
  </li>
  <li>
    <p><a href="https://testdriven.io/blog/python-dependency-injection/">Python Dependency Injection</a></p>
  </li>
</ul>

  </div>
<a class="u-url" href="/jabers-blog/design%20pattern/python/bangla/2021/07/03/strategy-pattern.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/jabers-blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/jabers-blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/jabers-blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>ML Enthusiast</p>
      </div>
    </div>

    <div class="social-links">
<ul class="social-media-list">
<li><a rel="me" href="https://github.com/jabertuhin" title="jabertuhin"><svg class="svg-icon grey"><use xlink:href="/jabers-blog/assets/minima-social-icons.svg#github"></use></svg></a></li>
<li><a rel="me" href="https://www.linkedin.com/in/mir-mohammad-jaber" title="mir-mohammad-jaber"><svg class="svg-icon grey"><use xlink:href="/jabers-blog/assets/minima-social-icons.svg#linkedin"></use></svg></a></li>
<li><a rel="me" href="https://twitter.com/jabertuhin" title="jabertuhin"><svg class="svg-icon grey"><use xlink:href="/jabers-blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
